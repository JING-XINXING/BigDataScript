#!/usr/bin/env bds

out := "graph_16.out.txt"
in1 := "graph_16.in1.txt"

# Clean up
[in1, out].rm()

# Dependency, no inputs
dep(in1 <- [], cpus := 4 ) {
    sys echo Hello | tee '$in1'
}

# This task has no output file
t1 := dep([] <- in1, cpus := 4 ) {
    sys echo Hello
}

# This task depends on the previous one being executed
dep ( out <- t1 ) {
    sys date > $out ; echo Bye
}

goal out
